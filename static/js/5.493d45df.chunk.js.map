{"version":3,"sources":["components/Styled/StyledForm.js","components/__Pages/1_addRecord.js"],"names":["StyledForm","styled","div","DisplayFlex","props","theme","notActive","accent1","StyledAddRecord","AddRecord","context","useContext","UserContext","useState","job","setJob","records","setRecords","comments","setComments","submitted","setSubmitted","formSubmitted","setFormSubmitted","user","useAuth0","validateForm","length","alert","className","useEffect","msgSent","setTimeout","clearTimeout","title","name","id","style","display","action","method","target","onSubmit","e","preventDefault","type","value","patient","placeholder","readOnly","onChange","required","disabled","defaultValue","hidden","email","StyledButton"],"mappings":"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","file":"static/js/5.493d45df.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\nimport { DisplayFlex } from \"./DisplayFlex\";\r\n\r\nexport const StyledForm = styled.div`\r\n  ${DisplayFlex}\r\n  flex-direction: column;\r\n  margin: 0 auto;\r\n  width: 500px;\r\n\r\n  @media (max-width: 768px) {\r\n    width: 90vw;\r\n  }\r\n\r\n  button {\r\n    margin: 15px 0;\r\n  }\r\n\r\n  .hidden {\r\n    display: none;\r\n  }\r\n\r\n  input {\r\n    :read-only {\r\n      color: ${(props) => props.theme.notActive};\r\n      cursor: not-allowed;\r\n\r\n      :focus {\r\n        border-bottom: 2px #9b0303 solid;\r\n      }\r\n    }\r\n  }\r\n\r\n  select {\r\n    color: #333;\r\n    cursor: pointer;\r\n    :required:invalid {\r\n      color: gray;\r\n    }\r\n  }\r\n\r\n  option {\r\n    color: #333;\r\n  }\r\n\r\n  input,\r\n  select,\r\n  option {\r\n    width: 100%;\r\n    padding: 10px 15px;\r\n    margin-bottom: 15px;\r\n    border: none;\r\n    border-bottom: 1px ${(props) => props.theme.notActive} solid;\r\n    border-radius: 5px 5px 0 0;\r\n    :focus {\r\n      outline: none;\r\n      border-bottom: 2px ${(props) => props.theme.accent1} solid;\r\n    }\r\n  }\r\n`;\r\n","//TO-DO ====================================================================================================================\r\n//add the dropdown to select patient, that is gonna be sent to the form so we can fetch which patient we want to check the records from\r\n\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { UserContext } from \"../../App.jsx\";\r\nimport { StyledButton } from \"../Styled/StyledButton\";\r\nimport { StyledForm } from \"../Styled/StyledForm\";\r\n\r\nconst AddRecord = () => {\r\n  const context = useContext(UserContext);\r\n  const FORM_ACTION =\r\n    \"https://docs.google.com/forms/u/0/d/e/1FAIpQLSdm4S7YQmIWc0SPJ-nhxMZkbdWQLwAt3wXJYwXfVTsdaHySvQ/formResponse\";\r\n  const [job, setJob] = useState(\"\");\r\n  const [records, setRecords] = useState(\"\");\r\n  const [comments, setComments] = useState(\"\");\r\n  const [submitted, setSubmitted] = useState(false);\r\n  const [formSubmitted, setFormSubmitted] = useState(\"\");\r\n  const { user } = useAuth0();\r\n\r\n  const validateComments = () => {\r\n    if (comments.length === 0) {\r\n      alert(\"Comments can't be blank\");\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const validateForm = () => {\r\n    if (!validateComments()) {\r\n      setFormSubmitted(\r\n        <p className=\"form-not-submitted\">❌ Form not submitted</p>\r\n      );\r\n      return false;\r\n    } else {\r\n      setFormSubmitted(<p className=\"form-submitted\">✔️ Form submitted</p>);\r\n      return true;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (submitted) {\r\n      setRecords(\"\");\r\n      setJob(\"\");\r\n      setComments(\"\");\r\n      setSubmitted(false);\r\n      const { msgSent } = setTimeout(() => setFormSubmitted(\"\"), 5000);\r\n      return () => {\r\n        clearTimeout(msgSent);\r\n      };\r\n    } else {\r\n      const { msgSent } = setTimeout(() => setFormSubmitted(\"\"), 5000);\r\n      return () => {\r\n        clearTimeout(msgSent);\r\n      };\r\n    }\r\n  }, [submitted]);\r\n\r\n  return (\r\n    <StyledAddRecord>\r\n      <h1>ADD RECORD</h1>\r\n\r\n      <StyledForm>\r\n        <iframe\r\n          title=\"hidden_iframe\"\r\n          name=\"hidden_iframe\"\r\n          id=\"hidden_iframe\"\r\n          style={{ display: \"none\" }}\r\n        ></iframe>\r\n\r\n        <form\r\n          action={FORM_ACTION}\r\n          method=\"post\"\r\n          target=\"hidden_iframe\"\r\n          onSubmit={(e) => {\r\n            validateForm();\r\n            if (!validateForm()) {\r\n              e.preventDefault();\r\n            }\r\n          }}\r\n        >\r\n          {/* Patient =======================================================================================*/}\r\n          <input\r\n            type=\"text\"\r\n            name=\"entry.786976050\"\r\n            value={context.patient}\r\n            placeholder=\"Patient not selected\"\r\n            readOnly\r\n          />\r\n\r\n          {/* Job Title [Staff] =======================================================================================*/}\r\n          <select\r\n            name=\"entry.31137095\"\r\n            onChange={(e) => setJob(e.target.value)}\r\n            value={job}\r\n            required\r\n          >\r\n            <option value=\"\" disabled defaultValue hidden>\r\n              Job Title [Staff]\r\n            </option>\r\n            <option value=\"Care Assistant\">Care Assistant</option>\r\n            <option value=\"Senior Care Assistant\">Senior Care Assistant</option>\r\n            <option value=\"Manager\">Manager</option>\r\n          </select>\r\n\r\n          {/* Records =======================================================================================*/}\r\n          <select\r\n            name=\"entry.462237252\"\r\n            onChange={(e) => setRecords(e.target.value)}\r\n            value={records}\r\n            required\r\n          >\r\n            <option value=\"\" disabled defaultValue hidden>\r\n              Records\r\n            </option>\r\n            <option value=\"Wellbeing\">Wellbeing</option>\r\n            <option value=\"Personal Hygiene\">Personal Hygiene</option>\r\n            <option value=\"Incident and/or Accident\">\r\n              Incident and/or Accident\r\n            </option>\r\n            <option value=\"Food and/or Fluids\">Food and/or Fluids</option>\r\n            <option value=\"Output/Elimination\">Output/Elimination</option>\r\n            <option value=\"Body mapping\">Body mapping</option>\r\n            <option value=\"Daily Handover\">Daily Handover</option>\r\n            <option value=\"Medication\">Medication</option>\r\n            <option value=\"Professional visits\">Professional visits</option>\r\n            <option value=\"Family visits\">Family visits</option>\r\n            <option value=\"Statement Care Records\">\r\n              Statement Care Records\r\n            </option>\r\n            <option value=\"Evaluation\">Evaluation</option>\r\n            <option value=\"Resident Transfer Form\">\r\n              Resident Transfer Form\r\n            </option>\r\n          </select>\r\n\r\n          {/* Comments =======================================================================================*/}\r\n          <input\r\n            type=\"text\"\r\n            name=\"entry.1817980315\"\r\n            value={comments}\r\n            placeholder={\"Comments\"}\r\n            onChange={(e) => setComments(e.target.value)}\r\n          />\r\n\r\n          <input\r\n            className=\"hidden\"\r\n            type=\"text\"\r\n            name=\"entry.1626627283\"\r\n            value={user.email}\r\n            readOnly\r\n          />\r\n\r\n          <div className=\"button\">\r\n            <StyledButton type=\"submit\">SUBMIT</StyledButton>\r\n          </div>\r\n\r\n          <div className=\"submitted-status\">{formSubmitted}</div>\r\n        </form>\r\n      </StyledForm>\r\n    </StyledAddRecord>\r\n  );\r\n};\r\n\r\nexport default AddRecord;\r\n\r\nconst StyledAddRecord = styled.div`\r\n\r\n  .button {\r\n    text-align: center;\r\n  }\r\n`;\r\n"],"sourceRoot":""}